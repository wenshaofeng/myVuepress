(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{357:function(e,a,v){"use strict";v.r(a);var t=v(28),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,v=e._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h2",{attrs:{id:"webpack-dev-server"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[e._v("#")]),e._v(" webpack-dev-server")]),e._v(" "),v("p",[e._v("功能：")]),e._v(" "),v("ul",[v("li",[e._v("live reloading (项目里文件更改了，它会自动刷新浏览器===>实时重新加载)")]),e._v(" "),v("li",[e._v("打包文件？ No (整体打包的文件实际上运行在内存中，在本地的dist目录中是找不到的)")]),e._v(" "),v("li",[e._v("路径重定向")]),e._v(" "),v("li",[e._v("搭建本地的服务器，从而做到本地调试、开发")]),e._v(" "),v("li",[e._v("支持 https")]),e._v(" "),v("li",[e._v("浏览器中显示编译错误")]),e._v(" "),v("li",[e._v("接口代理")]),e._v(" "),v("li",[e._v("模块热更新(Hot Module Replacement ===> HMR) (HMR 不适用于生产环境，这意味着它应当只在开发环境使用。)")])]),e._v(" "),v("h3",{attrs:{id:"webpack-dev-server-的简易实现"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server-的简易实现"}},[e._v("#")]),e._v(" webpack-dev-server 的简易实现")]),e._v(" "),v("p",[e._v("sever.js")]),e._v(" "),v("h3",{attrs:{id:"使用webpack-dev-server"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用webpack-dev-server"}},[e._v("#")]),e._v(" 使用webpack-dev-server")]),e._v(" "),v("p",[e._v("方式一："),v("code",[e._v("node_modules/.bin/webpack-dev-server --open")])]),e._v(" "),v("p",[e._v("方式二：在package.json中配置 npm script")]),e._v(" "),v("div",{staticClass:"language-json line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[e._v('"dev"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[e._v('"webpack-dev-server --open"')]),e._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br"),v("span",{staticClass:"line-number"},[e._v("3")]),v("br"),v("span",{staticClass:"line-number"},[e._v("4")]),v("br")])]),v("h3",{attrs:{id:"为什么需要开发模式？"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要开发模式？"}},[e._v("#")]),e._v(" 为什么需要开发模式？")]),e._v(" "),v("p",[e._v("之前如果我们都没有指定参数"),v("code",[e._v("mode")]),e._v("。那么执行"),v("code",[e._v("webpack")]),e._v("进行打包的时候，"),v("code",[e._v("mode")]),e._v("会自动设置为"),v("code",[e._v("production")]),e._v("(生产模式)，但是控制台会爆出"),v("code",[e._v("warning")]),e._v("的提示。而开发模式就是指定"),v("code",[e._v("mode")]),e._v("为"),v("code",[e._v("development")]),e._v("。")]),e._v(" "),v("p",[e._v("在开发模式下，我们需要对代码进行调试。对应的配置就是："),v("code",[e._v("devtool")]),e._v("设置为"),v("code",[e._v("source-map")]),e._v("。在非开发模式下，需要关闭此选项，以减小打包体积。")]),e._v(" "),v("p",[e._v("在开发模式下，还需要热重载、路由重定向、挂代理等功能，"),v("code",[e._v("webpack4")]),e._v("已经提供了"),v("code",[e._v("devServer")]),e._v("选项，启动一个本地服务器，让开发者使用这些功能。")]),e._v(" "),v("h3",{attrs:{id:"devserver"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devserver"}},[e._v("#")]),e._v(" devServer")]),e._v(" "),v("p",[v("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-63e36f9982c09be9.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),e._v(" "),v("ul",[v("li",[e._v("inline  模式")]),e._v(" "),v("li",[e._v("contentBase 提供内容的路径")]),e._v(" "),v("li",[e._v("port 监听的本地服务器的端口")]),e._v(" "),v("li",[e._v("historyApiFallback")]),e._v(" "),v("li",[e._v("https")]),e._v(" "),v("li",[e._v("proxy 远程接口代理 (实际上它集成了第三方包 "),v("code",[e._v("http-proxy-middleware")]),e._v(")")]),e._v(" "),v("li",[e._v("hot   指定模块热更新 如：vue-loader 和 react相关的loader 就支持模块热更新")]),e._v(" "),v("li",[e._v("openpage 最先打开的页面")]),e._v(" "),v("li",[e._v("lazy  在多页面中很有用")]),e._v(" "),v("li",[e._v("overlay   遮罩：webpack-dev-server 提供的错误提示,会在浏览器的遮罩上直接显示出编译的错误")])]),e._v(" "),v("h3",{attrs:{id:"模块热更新-hmr"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#模块热更新-hmr"}},[e._v("#")]),e._v(" 模块热更新(HMR)")]),e._v(" "),v("blockquote",[v("p",[e._v("简介：模块热替换(HMR - Hot Module Replacement)功能会在应用程序运行过程中替换、添加或删除模块，而无需重新加载整个页面。主要是通过以下几种方式，来显著加快开发速度：")])]),e._v(" "),v("ul",[v("li",[e._v("保留在完全重新加载页面时丢失的应用程序状态。")]),e._v(" "),v("li",[e._v("只更新变更内容，以节省宝贵的开发时间。")]),e._v(" "),v("li",[e._v("调整样式更加快速 - 几乎相当于在浏览器调试器中更改样式。")]),e._v(" "),v("li",[e._v("实际上在做项目的时候，module.hot 的实现大多数情况下都是相关的loader帮助我们实现的，所以我们得以专注于我们的业务代码\n"),v("strong",[e._v("热重载是在文件内容被修改时，在不刷新页面的情况下替换")])])]),e._v(" "),v("h4",{attrs:{id:"其他代码和框架"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其他代码和框架"}},[e._v("#")]),e._v(" 其他代码和框架")]),e._v(" "),v("p",[e._v("社区还有许多其他 loader 和示例，可以使 HMR 与各种框架和库(library)平滑地进行交互……")]),e._v(" "),v("ul",[v("li",[e._v("React Hot Loader：实时调整 react 组件。")]),e._v(" "),v("li",[e._v("Vue Loader：此 loader 支持用于 vue 组件的 HMR，提供开箱即用体验。")]),e._v(" "),v("li",[e._v("Elm Hot Loader：支持用于 Elm 程序语言的 HMR。")]),e._v(" "),v("li",[e._v("Redux HMR：无需 loader 或插件！只需对 main store 文件进行简单的修改。")]),e._v(" "),v("li",[e._v("Angular HMR：No loader necessary! A simple change to your main NgModule file is all that's required to have full control over the HMR APIs.没有必要使用 loader！只需对主要的 NgModule 文件进行简单的修改，由 HMR API 完全控制。")])]),e._v(" "),v("h4",{attrs:{id:"api"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" api")]),e._v(" "),v("ul",[v("li",[e._v("module.hot")]),e._v(" "),v("li",[e._v("module.hot.accept")]),e._v(" "),v("li",[e._v("module.hot.decline")])]),e._v(" "),v("h3",{attrs:{id:"开发环境-开启调试source-map"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#开发环境-开启调试source-map"}},[e._v("#")]),e._v(" 开发环境-开启调试Source Map")]),e._v(" "),v("h4",{attrs:{id:"为什么要使用source-map-？"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用source-map-？"}},[e._v("#")]),e._v(" 为什么要使用Source Map ？")]),e._v(" "),v("p",[e._v("当 webpack 打包源代码时，可能会很难追踪到错误和警告在源代码中的原始位置。例如，如果将三个源文件（a.js, b.js 和 c.js）打包到一个 bundle（bundle.js）中，而其中一个源文件包含一个错误，那么堆栈跟踪就会简单地指向到 bundle.js。这并通常没有太多帮助，因为你可能需要准确地知道错误来自于哪个源文件。")]),e._v(" "),v("p",[e._v("为了更容易地追踪错误和警告，JavaScript 提供了 source map 功能，将编译后的代码映射回原始源代码。如果一个错误来自于 b.js，source map 就会明确的告诉你。也就是说在浏览器进行调试的时候，它可以告诉开发者原来哪个js文件出错了")]),e._v(" "),v("p",[v("strong",[e._v("注意")]),e._v("：在使用Source Map 的时候，在相关的loader中也需要进行相关的配置\n如：\n"),v("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-207e72db64b2e1b0.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:"CSS Source Map"}})]),e._v(" "),v("h4",{attrs:{id:"devtool"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#devtool"}},[e._v("#")]),e._v(" Devtool")]),e._v(" "),v("p",[v("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-f89f3d13a9c918ff.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),e._v(" "),v("ul",[v("li",[e._v("Development (开发环境)\n"),v("ol",[v("li",[e._v("eval")]),e._v(" "),v("li",[e._v("eval-source-map")]),e._v(" "),v("li",[e._v("cheap-eval-source-map")]),e._v(" "),v("li",[e._v("cheap-module-eval-source-map")])])]),e._v(" "),v("li",[e._v("Production (生产环境)\n"),v("ol",[v("li",[e._v("source-map")]),e._v(" "),v("li",[e._v("hidden-source-map")]),e._v(" "),v("li",[e._v("nosource-source-map")])])])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-97963e3e5a089eb6.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:"速度表"}})]),e._v(" "),v("p",[e._v("最佳实践：")]),e._v(" "),v("ul",[v("li",[e._v("devlopment环境的时候使用 cheap-module-eval-source-map")]),e._v(" "),v("li",[e._v("production环境的时候使用 cheap-module-source-map")])]),e._v(" "),v("h3",{attrs:{id:"eslint-检查代码格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#eslint-检查代码格式"}},[e._v("#")]),e._v(" EsLint 检查代码格式")]),e._v(" "),v("p",[e._v("安装：\neslint\neslint-loader\neslint-plugin-html (在html的标签里使用JS)\neslint-friendly-formatter (错误输出时的格式化)")]),e._v(" "),v("p",[e._v("配置ESlint")]),e._v(" "),v("p",[e._v("方式一：\nwebpack config\n.eslintrc.*")]),e._v(" "),v("p",[e._v("方式二：\nwebpack config\npackage.json 中的 eslintConfig")]),e._v(" "),v("p",[e._v("定义规则：\n"),v("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-92ce389e6e5671ad.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})])])}),[],!1,null,null,null);a.default=s.exports}}]);