(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{336:function(e,a,s){"use strict";s.r(a);var t=s(28),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"编译es6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译es6"}},[e._v("#")]),e._v(" 编译ES6")]),e._v(" "),s("h2",{attrs:{id:"babel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[e._v("#")]),e._v(" babel")]),e._v(" "),s("h3",{attrs:{id:"babel基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel基础"}},[e._v("#")]),e._v(" babel基础")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("babel-loader")]),e._v(": 负责es6语法转化")]),e._v(" "),s("li",[s("code",[e._v("babel-preset-env")]),e._v(": 包含es6、7等版本的语法转化规则")]),e._v(" "),s("li",[s("code",[e._v("babel-polyfill")]),e._v(": es6内置方法和函数转化垫片。(如Generator、Set、Map、Array.from等) ("),s("strong",[e._v("babel-loader只转化语法")]),e._v(")")]),e._v(" "),s("li",[s("code",[e._v("babel-plugin-transform-runtime")]),e._v(": 避免polyfill污染全局变量")])]),e._v(" "),s("p",[s("strong",[e._v("注")]),e._v(" "),s("code",[e._v("babel-loader")]),e._v("和"),s("code",[e._v("babel-polyfill")]),e._v("。前者负责语法转化，比如：箭头函数；后者负责内置方法和函数，比如："),s("code",[e._v("new Set()")]),e._v("。")]),e._v(" "),s("ul",[s("li",[e._v("polyfill引入：https://www.babeljs.cn/docs/usage/polyfill/")]),e._v(" "),s("li",[e._v("babel-preset-env配置：https://www.babeljs.cn/docs/plugins/preset-env/")])]),e._v(" "),s("blockquote",[s("p",[e._v("版本问题和过滤")])]),e._v(" "),s("ul",[s("li",[e._v("如果使用 "),s("code",[e._v("babel-loader@8")]),e._v(" 以上的版本，需要安装 "),s("code",[e._v("@babel/core @babel/preset-env @babel/polyfill @babel/runtime -S @babel/plugin-transform-runtime -D")]),e._v(" 来替代 "),s("code",[e._v("bable-core babel-preset-env bable-polyfill babel-runtime -S babel-plugin-transform-runtime -D")]),e._v("。")]),e._v(" "),s("li",[s("code",[e._v("rule.exclude")]),e._v(" 属性值可以是正则也可以是字符串。\n如果是字符串，则该字符串必须为绝对路径，该绝对路径代表的目录被排除在外，例如 "),s("code",[e._v("exlude: path.resolve(_dirname, 'node_modules')")]),e._v("，会排除 "),s("code",[e._v("__dirname/node_modules/")]),e._v(" 这个目录下的所有文件。\n如果是正则，则只要路径里的一部分匹配正则表达式，则该目录就被排除在外，例如 "),s("code",[e._v("exlude: /node_modules/")]),e._v(" 会排除 "),s("code",[e._v("__dirname/node_modules/")]),e._v(" 以及 "),s("code",[e._v("__dirname/src/another_node_modules/")]),e._v(" 目录中的所有文件。")])]),e._v(" "),s("h3",{attrs:{id:"babel-presets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-presets"}},[e._v("#")]),e._v(" Babel Presets")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-069fdf6d469f916c.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}}),e._v(" "),s("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-51e46a5b15d27104.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),e._v(" "),s("h3",{attrs:{id:"babel-polyfill-和babel-runtime-transform"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill-和babel-runtime-transform"}},[e._v("#")]),e._v(" Babel Polyfill 和Babel Runtime Transform")]),e._v(" "),s("blockquote",[s("p",[e._v("Babel Polyfill")])]),e._v(" "),s("ul",[s("li",[e._v("全局垫片")]),e._v(" "),s("li",[e._v("为应用准备")]),e._v(" "),s("li",[s("code",[e._v("npm install babel-polyfill --save")])]),e._v(" "),s("li",[s("code",[e._v('import "babel-polyfill"')])])]),e._v(" "),s("blockquote",[s("p",[e._v("Babel Runtime Transform")])]),e._v(" "),s("ul",[s("li",[e._v("局部垫片")]),e._v(" "),s("li",[e._v("为开发框架准备")]),e._v(" "),s("li",[s("code",[e._v("npm install babel-plugin-transform-runtime --save-dev")]),e._v(" "),s("code",[e._v("npm install babel-runtime --save")])]),e._v(" "),s("li",[e._v(".babelrc")])]),e._v(" "),s("h3",{attrs:{id:"起步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#起步"}},[e._v("#")]),e._v(" 起步")]),e._v(" "),s("p",[e._v("安装  "),s("code",[e._v("npm i babel-loder")]),e._v(" (已经是8以上) "),s("code",[e._v("npm i @babel/core")]),e._v("\n指定语法 "),s("code",[e._v("npm i @babel/preset-env")])]),e._v(" "),s("p",[e._v("打包")]),e._v(" "),s("p",[e._v("编译 函数和方法\n"),s("code",[e._v("npm i babel-polyfill babel-runtime -S")]),e._v(" "),s("code",[e._v("npm i babel-plugin-transform-runtime -D")])]),e._v(" "),s("h5",{attrs:{id:"babel-runtime-transform"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-runtime-transform"}},[e._v("#")]),e._v(" Babel Runtime Transform")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.weserv.nl/?url=https://upload-images.jianshu.io/upload_images/9249356-f3b6c297d4cee084.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),e._v(" "),s("blockquote",[s("p",[e._v("如果使用 "),s("code",[e._v("babel-loader@8")]),e._v(" 以上的版本\n"),s("code",[e._v("npm i @babel/runtime -S")]),e._v(" 和 "),s("code",[e._v("npm i @babel/plugin-transform-runtime -D")])])]),e._v(" "),s("p",[e._v(".babelrc文件")]),e._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"presets"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"@babel/preset-env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"targets"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//根据targets 指定哪些语法编译，哪些语法不编译")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"browsers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"last 2 versions"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ")]),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"chrome"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"52"')]),e._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//chrome支持大部分ES6语法")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"@babel/transform-runtime"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);